"use strict";(self.webpackChunkangular_template=self.webpackChunkangular_template||[]).push([[519],{2333:(y,g,o)=>{o.d(g,{Z:()=>f});var c=o(4650);let f=(()=>{class s{constructor(e,m){this.el=e,this.renderer=m,this.highlight=[]}ngOnInit(){if(typeof this.classToApply>"u"&&(this.classToApply=""),typeof this.highlight>"u")return void this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.text);let e=this.text;for(let m=0;m<this.highlight.length;m++){let a=l(this.highlight[m].word);e=this.replace(e,a)}this.renderer.setProperty(this.el.nativeElement,"innerHTML",e)}replace(e,m){let a=new RegExp("("+m+")","gi");return e.replace(a,`<span class="${this.classToApply}">$1</span>`)}}return s.\u0275fac=function(e){return new(e||s)(c.Y36(c.SBq),c.Y36(c.Qsj))},s.\u0275dir=c.lG2({type:s,selectors:[["","highlight",""]],inputs:{highlight:"highlight",text:"text",classToApply:"classToApply"},standalone:!0}),s})(),r=/[|\\{}()[\]^$+*?.]/g;function l(s){if("string"!=typeof s)throw new TypeError("Expected a string");return s.replace(r,"\\$&")}},2524:(y,g,o)=>{o.d(g,{n:()=>f});var c=o(4650);let f=(()=>{class r{transform(s){const d=new Date,e=new Date(s),m=Math.abs(d.getTime()-e.getTime()),a=Math.floor(m/1e3),h=Math.floor(a/60),u=Math.floor(h/60),C=Math.floor(u/24);return C>0?`${C} days ago`:u>0?`${u} hours ago`:h>0?`${h} minutes ago`:"Just now"}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275pipe=c.Yjl({name:"ago",type:r,pure:!0,standalone:!0}),r})()},1447:(y,g,o)=>{o.r(g),o.d(g,{default:()=>A});var c=o(6895),f=o(7967),r=o(4963),l=o(3607),s=o(1724),d=o(2474),e=o(4650),m=o(9653),a=o(4688);function h(n,_){1&n&&e._UZ(0,"error-badge",6),2&n&&e.Q6J("error",_.ngIf)}function u(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"article-comment",7),e.NdJ("commentApproved",function(p){e.CHM(t);const x=e.oxw(3);return e.KtG(x.onCommentApprove(p))})("commentRejected",function(p){e.CHM(t);const x=e.oxw(3);return e.KtG(x.onCommentReject(p))})("openedReplyBox",function(p){e.CHM(t);const x=e.oxw(3);return e.KtG(x.onReplyBoxOpened(p))})("closedReplyBox",function(){e.CHM(t);const p=e.oxw(3);return e.KtG(p.onReplyBoxClosed())}),e.qZA()}if(2&n){const t=_.$implicit,i=e.oxw(3);e.Q6J("comment",t)("canReply",!1)("hasAdminPrivileges",!0)("openedReplyBox$",i.openedReplyBox$)}}function C(n,_){if(1&n&&(e.ynx(0),e.YNc(1,h,1,1,"error-badge",4),e.ALo(2,"async"),e.YNc(3,u,1,4,"article-comment",5),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.error$)),e.xp6(2),e.Q6J("ngForOf",t)}}function v(n,_){if(1&n&&(e.ynx(0),e.YNc(1,C,4,4,"ng-container",3),e.BQk()),2&n){const t=_.ngIf;e.oxw();const i=e.MAs(8);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",i)}}function O(n,_){1&n&&e._UZ(0,"loading")}function R(n,_){1&n&&(e.TgZ(0,"div",9),e._uU(1,"No comments here... yet."),e.qZA())}function E(n,_){if(1&n&&(e.YNc(0,R,2,0,"div",8),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",!e.lcZ(1,1,t.loading$))}}let A=(()=>{class n{constructor(t){this.store=t,this.comments$=this.store.select(r.D.selectEntities),this.loading$=this.store.select(r.D.selectLoading),this.error$=this.store.select(r.D.selectError),this.openedReplyBox$=this.store.select(r.D.selectOpenedReplyBox)}onCommentApprove(t){this.store.dispatch(l.p.approveComment({commentId:t}))}onCommentReject(t){this.store.dispatch(l.p.rejectComment({commentId:t}))}onReplyBoxOpened(t){this.store.dispatch(l.p.openReplyBox({commentId:t}))}onReplyBoxClosed(){this.store.dispatch(l.p.closeReplyBox())}ngOnDestroy(){this.store.dispatch(l.p.reset())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offensive-comments"]],standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[1,"private-page-container"],[4,"ngIf"],["noComments",""],[4,"ngIf","ngIfElse"],[3,"error",4,"ngIf"],[3,"comment","canReply","hasAdminPrivileges","openedReplyBox$","commentApproved","commentRejected","openedReplyBox","closedReplyBox",4,"ngFor","ngForOf"],[3,"error"],[3,"comment","canReply","hasAdminPrivileges","openedReplyBox$","commentApproved","commentRejected","openedReplyBox","closedReplyBox"],["class","text-center",4,"ngIf"],[1,"text-center"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Offensive Comments"),e.qZA(),e.YNc(3,v,2,2,"ng-container",1),e.ALo(4,"async"),e.YNc(5,O,1,0,"loading",1),e.ALo(6,"async"),e.YNc(7,E,2,3,"ng-template",null,2,e.W1O),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,i.comments$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,4,i.loading$)))},dependencies:[c.ez,c.sg,c.O5,c.Ov,f.X,s.Z,d.I,a.N],changeDetection:0}),n})()}}]);