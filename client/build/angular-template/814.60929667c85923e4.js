"use strict";(self.webpackChunkangular_template=self.webpackChunkangular_template||[]).push([[814],{7814:(B,i,t)=>{t.r(i),t.d(i,{default:()=>C});var e=t(4650),l=t(6895),d=t(2316),f=t(3248),P=t(9653),_=t(4281),m=t(1624),u=t(2474),I=t(9450),E=t(8505),o=t(4006),D=t(2684),g=t(1019),O=t(6228),M=t(3324),c=t(123),T=t(1724),p=t(4688);function h(s,a){if(1&s&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&s){const r=a.ngIf;e.xp6(1),e.hij("",r.firstName," Profile")}}function U(s,a){1&s&&e._UZ(0,"error-badge",4),2&s&&e.Q6J("error",a.ngIf)}function L(s,a){1&s&&e._UZ(0,"loading")}const v=[{type:_.fS.INVISIBLE,name:"id",label:""},{type:_.fS.INVISIBLE,name:"roles",label:""},{type:_.fS.TEXT,name:"firstName",label:"First Name",validators:[o.kI.required,o.kI.maxLength(50)]},{type:_.fS.TEXT,name:"lastName",label:"Last Name",validators:[o.kI.required,o.kI.maxLength(50)]},{type:_.fS.TEXT,name:"email",label:"Email",validators:[o.kI.required,D.J,o.kI.maxLength(100)],attrs:{type:"email"}},{type:_.fS.TEXT,name:"username",label:"Username",validators:[o.kI.required,g.t,o.kI.maxLength(12)]},{type:_.fS.TEXT,name:"password",label:"Password",validators:[o.kI.required,o.kI.minLength(8),o.kI.maxLength(100),O.q]}];let C=(()=>{class s{constructor(){this.store=(0,e.f3M)(P.yh),this.initUserForm$=this.store.select(I.A.selectLoggedUser).pipe((0,E.b)(()=>this.store.dispatch(m.i.setStructure({structure:v}))),(0,E.b)(r=>this.store.dispatch(m.i.setData({data:r})))),this.error$=this.store.select(c.v.selectError),this.loading$=this.store.select(c.v.selectLoading)}onProfileSubmit(r){this.store.dispatch(M.h.editUserProfile({user:r}))}ngOnDestroy(){this.store.dispatch(f.W.reset())}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["user-profile"]],standalone:!0,features:[e.jDz],decls:8,vars:9,consts:[[1,"private-page-container"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"submitted"],[3,"error"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0),e.YNc(1,h,2,1,"h1",1),e.ALo(2,"async"),e.YNc(3,U,1,1,"error-badge",2),e.ALo(4,"async"),e.TgZ(5,"user-form",3),e.NdJ("submitted",function(A){return n.onProfileSubmit(A)}),e.qZA(),e.YNc(6,L,1,0,"loading",1),e.ALo(7,"async"),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,n.initUserForm$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,5,n.error$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,7,n.loading$)))},dependencies:[l.ez,l.O5,l.Ov,d.m,T.Z,u.I,p.N],changeDetection:0}),s})()}}]);