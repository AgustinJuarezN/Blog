"use strict";(self.webpackChunkangular_template=self.webpackChunkangular_template||[]).push([[401],{2333:(R,m,o)=>{o.d(m,{Z:()=>g});var r=o(4650);let g=(()=>{class i{constructor(e,a){this.el=e,this.renderer=a,this.highlight=[]}ngOnInit(){if(typeof this.classToApply>"u"&&(this.classToApply=""),typeof this.highlight>"u")return void this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.text);let e=this.text;for(let a=0;a<this.highlight.length;a++){let p=l(this.highlight[a].word);e=this.replace(e,p)}this.renderer.setProperty(this.el.nativeElement,"innerHTML",e)}replace(e,a){let p=new RegExp("("+a+")","gi");return e.replace(p,`<span class="${this.classToApply}">$1</span>`)}}return i.\u0275fac=function(e){return new(e||i)(r.Y36(r.SBq),r.Y36(r.Qsj))},i.\u0275dir=r.lG2({type:i,selectors:[["","highlight",""]],inputs:{highlight:"highlight",text:"text",classToApply:"classToApply"},standalone:!0}),i})(),_=/[|\\{}()[\]^$+*?.]/g;function l(i){if("string"!=typeof i)throw new TypeError("Expected a string");return i.replace(_,"\\$&")}},2524:(R,m,o)=>{o.d(m,{n:()=>g});var r=o(4650);let g=(()=>{class _{transform(i){const d=new Date,e=new Date(i),a=Math.abs(d.getTime()-e.getTime()),p=Math.floor(a/1e3),f=Math.floor(p/60),h=Math.floor(f/60),x=Math.floor(h/24);return x>0?`${x} days ago`:h>0?`${h} hours ago`:f>0?`${f} minutes ago`:"Just now"}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275pipe=r.Yjl({name:"ago",type:_,pure:!0,standalone:!0}),_})()},3931:(R,m,o)=>{o.r(m),o.d(m,{default:()=>M});var r=o(6895),g=o(7967),_=o(4963),l=o(3607),i=o(2474),d=o(1724),e=o(4650),a=o(9653),p=o(2625),f=o(4688);function h(t,s){1&t&&e._UZ(0,"error-badge",6),2&t&&e.Q6J("error",s.ngIf)}function x(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"article-comment",8),e.NdJ("commentReplied",function(u){e.CHM(n);const y=e.oxw(4);return e.KtG(y.onCommentReplied(u))})("openedReplyBox",function(u){e.CHM(n);const y=e.oxw(4);return e.KtG(y.onReplyBoxOpened(u))})("closedReplyBox",function(){e.CHM(n);const u=e.oxw(4);return e.KtG(u.onReplyBoxClosed())}),e.qZA()}if(2&t){const n=e.oxw().$implicit,c=e.oxw(3);e.Q6J("comment",n)("canReply",!0)("openedReplyBox$",c.openedReplyBox$)}}function E(t,s){if(1&t&&(e.ynx(0),e.YNc(1,x,1,3,"article-comment",7),e.BQk()),2&t){const n=s.$implicit;e.xp6(1),e.Q6J("ngIf",!n.isRejected&&n.isApproved)}}function T(t,s){if(1&t&&(e.ynx(0),e.YNc(1,h,1,1,"error-badge",4),e.ALo(2,"async"),e.YNc(3,E,2,1,"ng-container",5),e.BQk()),2&t){const n=e.oxw().ngIf,c=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,c.error$)),e.xp6(2),e.Q6J("ngForOf",n)}}function C(t,s){if(1&t&&(e.ynx(0),e.YNc(1,T,4,4,"ng-container",3),e.BQk()),2&t){const n=s.ngIf;e.oxw();const c=e.MAs(8);e.xp6(1),e.Q6J("ngIf",n.length>0)("ngIfElse",c)}}function B(t,s){1&t&&e._UZ(0,"loading")}function D(t,s){1&t&&(e.TgZ(0,"div",10),e._uU(1,"No comments here... yet."),e.qZA())}function O(t,s){if(1&t&&(e.YNc(0,D,2,0,"div",9),e.ALo(1,"async")),2&t){const n=e.oxw();e.Q6J("ngIf",!e.lcZ(1,1,n.loading$))}}let M=(()=>{class t{constructor(n,c){this.store=n,this.commentsService=c,this.comments$=this.store.select(_.D.selectEntities),this.loading$=this.store.select(_.D.selectLoading),this.error$=this.store.select(_.D.selectError),this.openedReplyBox$=this.store.select(_.D.selectOpenedReplyBox)}ngOnInit(){this.commentsService.userNotifications$.next(null)}onCommentReplied(n){this.store.dispatch(l.p.addReply({commentReply:n}))}onReplyBoxOpened(n){this.store.dispatch(l.p.openReplyBox({commentId:n}))}onReplyBoxClosed(){this.store.dispatch(l.p.closeReplyBox())}ngOnDestroy(){this.store.dispatch(l.p.reset())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.yh),e.Y36(p.r))},t.\u0275cmp=e.Xpm({type:t,selectors:[["reply-to-comments"]],standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[1,"private-page-container"],[4,"ngIf"],["noComments",""],[4,"ngIf","ngIfElse"],[3,"error",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"error"],[3,"comment","canReply","openedReplyBox$","commentReplied","openedReplyBox","closedReplyBox",4,"ngIf"],[3,"comment","canReply","openedReplyBox$","commentReplied","openedReplyBox","closedReplyBox"],["class","text-center",4,"ngIf"],[1,"text-center"]],template:function(n,c){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"User notifications"),e.qZA(),e.YNc(3,C,2,2,"ng-container",1),e.ALo(4,"async"),e.YNc(5,B,1,0,"loading",1),e.ALo(6,"async"),e.YNc(7,O,2,3,"ng-template",null,2,e.W1O),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,c.comments$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,4,c.loading$)))},dependencies:[r.ez,r.sg,r.O5,r.Ov,g.X,i.I,f.N,d.Z],changeDetection:0}),t})()}}]);