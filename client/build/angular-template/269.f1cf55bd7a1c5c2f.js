"use strict";(self.webpackChunkangular_template=self.webpackChunkangular_template||[]).push([[269],{5269:(N,c,s)=>{s.r(c),s.d(c,{default:()=>T});var a=s(6895),f=s(6935),g=s(3003),m=s(8271),t=s(4650);let v=(()=>{class o{constructor(){this.user=null}get initials(){return this.user?this.user.firstName[0].toUpperCase()+this.user.lastName[0].toUpperCase():""}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["user-header"]],inputs:{user:"user"},standalone:!0,features:[t.jDz],decls:13,vars:4,consts:[[1,"surface-section","px-4","py-5","md:px-6","lg:px-8","border-bottom-1","surface-border"],[1,"flex","align-items-start","flex-column","lg:flex-row","lg:justify-content-between"],[1,"flex","align-items-start","flex-column","md:flex-row"],["shape","circle",1,"mr-5","mb-3","lg:mb-0","avatar",3,"label"],[1,"text-900","font-medium","text-3xl"],[1,"flex","align-items-center","flex-wrap","text-sm"],[1,"mr-5","mt-1"],[1,"font-medium","text-500"],[1,"text-700"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-avatar",3),t.TgZ(4,"div")(5,"span",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"EMAIL"),t.qZA(),t.TgZ(11,"div",8),t._uU(12),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.Q6J("label",r.initials),t.xp6(3),t.AsE("",null==r.user?null:r.user.firstName," ",null==r.user?null:r.user.lastName,""),t.xp6(6),t.Oqu(null==r.user?null:r.user.email))},dependencies:[a.ez,m.F,m.q],styles:["[_nghost-%COMP%]  .p-avatar.p-component.p-avatar-circle{width:90px;height:90px}[_nghost-%COMP%]  .p-avatar.p-component.p-avatar-circle .p-avatar-text{font-size:2rem}"],changeDetection:0}),o})();var d=s(3324),u=s(123),x=s(2474),h=s(6434),l=s(8126),A=s(9841),p=s(9646),C=s(262),U=s(9507),Z=s(9653),$=s(8759),F=s(4688);function I(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t._UZ(1,"user-header",3),t.TgZ(2,"filter-articles",4),t.NdJ("filtered",function(i){const y=t.CHM(e).ngIf,E=t.oxw();return t.KtG(E.onArticleFiltered(i,y.id))}),t.qZA(),t._UZ(3,"article-list",5),t.qZA()}if(2&o){const e=n.ngIf,r=t.oxw();t.xp6(1),t.Q6J("user",e),t.xp6(2),t.Q6J("vm$",r.vm$)}}function M(o,n){1&o&&t._UZ(0,"loading")}let T=(()=>{class o{constructor(e,r){this.store=e,this.route=r,this.user$=this.store.select(u.v.selectData),this.loadingUser$=this.store.select(u.v.selectLoading),this.articles$=this.store.select(l.q.selectEntities),this.loading$=this.store.select(l.q.selectLoading),this.editing$=this.store.select(l.q.selectEditing),this.vm$=(0,A.a)({articles:this.articles$,loading:this.loading$,editing:this.editing$,showFromAuthor:(0,p.of)(!1)}).pipe((0,C.K)(this.handleError))}ngOnInit(){const e=this.route.snapshot.params.userId;this.store.dispatch(d.h.loadUser({userId:e})),this.store.dispatch(h.u.loadUserArticles({userId:e}))}handleError(e){return console.log("[ArticleListVM - ERROR",e),(0,p.of)(!0)}ngOnDestroy(){this.store.dispatch(d.h.reset())}onArticleFiltered(e,r){this.store.dispatch(h.u.filterArticlesBy({filterBy:e=`${e}&authorId=${r}`,from:U.j1.AllArticles}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.yh),t.Y36($.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["more-from-author"]],standalone:!0,features:[t.jDz],decls:4,vars:6,consts:[["class","private-page-container",4,"ngIf"],[4,"ngIf"],[1,"private-page-container"],[3,"user"],[3,"filtered"],[3,"vm$"]],template:function(e,r){1&e&&(t.YNc(0,I,4,2,"div",0),t.ALo(1,"async"),t.YNc(2,M,1,0,"loading",1),t.ALo(3,"async")),2&e&&(t.Q6J("ngIf",t.lcZ(1,2,r.user$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,r.loadingUser$)))},dependencies:[a.ez,a.O5,a.Ov,f.P,g.D,v,x.I,F.N],changeDetection:0}),o})()}}]);