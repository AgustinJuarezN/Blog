"use strict";(self.webpackChunkangular_template=self.webpackChunkangular_template||[]).push([[631],{8126:(v,_,i)=>{i.d(_,{q:()=>s});var a=i(9083);const{selectArticleListState:t,selectEntities:d,selectLoaded:h,selectLoading:c,selectEditing:u}=a.$,s={selectArticleListState:t,selectEntities:d,selectLoaded:h,selectLoading:c,selectEditing:u}},6935:(v,_,i)=>{i.d(_,{P:()=>H});var a=i(6895),t=i(4650),d=i(8271);let h=(()=>{class e{transform(n,o=25,l=!1,g="..."){return l&&(o=n.substr(0,o).lastIndexOf(" ")),`${n.substr(0,o)}${g}`}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"truncate",type:e,pure:!0,standalone:!0}),e})();var c=i(8759),u=i(5593),s=i(2524),p=i(2333);function m(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"p-button",16),t.NdJ("click",function(){t.CHM(n);const l=t.oxw(2);return t.KtG(l.deleted.emit(l.article.id))}),t.qZA()}}const f=function(e){return["/private","articles",e,"edit"]};function x(e,r){if(1&e&&(t.TgZ(0,"span",13),t._UZ(1,"p-button",14),t.YNc(2,m,1,0,"p-button",15),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(2,f,n.article.id)),t.xp6(1),t.Q6J("ngIf",n.canDelete)}}function A(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"span",6),t._uU(2,"by "),t.qZA(),t.TgZ(3,"span",6),t._uU(4),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(4),t.AsE("",n.article.author.firstName," ",n.article.author.lastName,"")}}const M=function(e){return["/private/users/",e]};function T(e,r){if(1&e&&(t.TgZ(0,"a",11),t._uU(1,"More from Author!"),t.qZA()),2&e){const n=t.oxw();t.Q6J("routerLink",t.VKq(1,M,null==n.article.author?null:n.article.author.id))}}const C=function(){return[]},y=function(e){return["/private/articles/",e]};let O=(()=>{class e{constructor(){this.editing=!1,this.deleted=new t.vpe,this.showFromAuthor=!0,this.canDelete=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["article-list-item"]],inputs:{article:"article",editing:"editing",showFromAuthor:"showFromAuthor",words$:"words$",canDelete:"canDelete"},outputs:{deleted:"deleted"},standalone:!0,features:[t.jDz],decls:25,vars:32,consts:[[1,"card","hover:border-blue-200"],[1,"card__publication"],[3,"src","alt"],[1,"card__info"],["class","button-bar",4,"ngIf"],[1,""],[1,"text-500","text-sm"],[4,"ngIf"],[1,"card__title",3,"highlight","text","classToApply","innerHTML"],[1,"card__description",3,"highlight","text","classToApply","innerHTML"],[1,"read-more-container"],[1,"card__cta",3,"routerLink"],["class","card__cta ",3,"routerLink",4,"ngIf"],[1,"button-bar"],["styleClass","p-button-outlined p-button-rounded  p-button-text p-button-sm ","icon","pi pi-pencil",1,"edit-button",3,"routerLink"],["styleClass","p-button-outlined p-button-rounded p-button-danger p-button-text p-button-sm ","class","delete-button","icon","pi pi-times",3,"click",4,"ngIf"],["styleClass","p-button-outlined p-button-rounded p-button-danger p-button-text p-button-sm ","icon","pi pi-times",1,"delete-button",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"article",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,x,3,4,"span",4),t.TgZ(5,"div",5)(6,"span",6),t._uU(7,"Posted "),t.qZA(),t.YNc(8,A,5,2,"ng-container",7),t.TgZ(9,"span",6),t._uU(10),t.ALo(11,"ago"),t.ALo(12,"ago"),t.qZA()(),t._UZ(13,"h2",8),t.ALo(14,"async"),t.TgZ(15,"p",9),t.ALo(16,"async"),t._uU(17),t.ALo(18,"truncate"),t.qZA(),t.TgZ(19,"div",10)(20,"a",11),t._uU(21," Read more "),t.TgZ(22,"span"),t._uU(23,"\u2192"),t.qZA()(),t.YNc(24,T,2,3,"a",12),t.qZA()()()),2&n){let l,g;t.xp6(2),t.Q6J("src",o.article.firstImage,t.LSH)("alt",o.article.title+" image"),t.xp6(2),t.Q6J("ngIf",o.editing),t.xp6(4),t.Q6J("ngIf",o.article.author),t.xp6(2),t.hij(" ",o.article.updatedAt?t.lcZ(11,16,o.article.updatedAt):t.lcZ(12,18,o.article.createdAt),""),t.xp6(3),t.Q6J("highlight",null!==(l=t.lcZ(14,20,o.words$))&&void 0!==l?l:t.DdM(28,C))("text",o.article.title)("classToApply","offensive-word")("innerHTML",o.article.title,t.oJD),t.xp6(2),t.Q6J("highlight",null!==(g=t.lcZ(16,22,o.words$))&&void 0!==g?g:t.DdM(29,C))("text",o.article.content)("classToApply","offensive-word")("innerHTML",o.article.content,t.oJD),t.xp6(2),t.hij(" ",t.Dn7(18,24,o.article.content,285,!0)," "),t.xp6(3),t.Q6J("routerLink",t.VKq(30,y,o.article.id)),t.xp6(4),t.Q6J("ngIf",o.showFromAuthor)}},dependencies:[a.ez,a.O5,a.Ov,d.F,h,c.rH,u.hJ,u.zx,s.n,p.Z],styles:['.card[_ngcontent-%COMP%]{background-color:#fff;color:#333;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border-radius:6px;position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #40449c;cursor:pointer;transition:box-shadow .3s ease-in-out}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:-1;inset:50% 5% 0;background:rgba(0,0,0,.2);border-radius:100px/20px}.card[_ngcontent-%COMP%]:hover:before{top:0}.card__publication[_ngcontent-%COMP%]{position:relative;height:15rem;overflow:hidden;border-top-right-radius:6px;border-top-left-radius:6px}.card__publication[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;transition:transform .5s;border-top-right-radius:6px;border-top-left-radius:6px}.card[_ngcontent-%COMP%]:hover   .card__publication[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.5)}.card__publication[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#fff;position:absolute;inset:0;padding:1rem;border-top-right-radius:6px;border-top-left-radius:6px}.card__icon[_ngcontent-%COMP%]{margin-right:1rem}.card__publication[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.card__author[_ngcontent-%COMP%]{margin-bottom:.5rem}.card__info[_ngcontent-%COMP%]{position:relative;padding:1.5rem;width:100%}.card__title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:2px;color:#4957b6}.card__cta[_ngcontent-%COMP%]{position:relative;display:inline-block;text-decoration:none;font-weight:700;color:#4957b6;margin-top:2rem}.card__description[_ngcontent-%COMP%]{line-height:1.3;font-family:Lato,"sans-serif";font-weight:300;font-size:14px}.card__cta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inherit;transition:transform .5s}.card__cta[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transform:translate(.5rem)}@media screen and (min-width: 37.5em){.card[_ngcontent-%COMP%]{display:flex;max-width:75rem}.card__publication[_ngcontent-%COMP%]{width:25rem;height:initial}}.button-bar[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px}.edit-button[_ngcontent-%COMP%]{height:2.15rem;width:2.15rem}[_nghost-%COMP%]  .p-button.p-button-sm{height:1.8rem;width:1.8rem}.read-more-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.read-more-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.help-color[_ngcontent-%COMP%]{color:#6d1b7b}'],changeDetection:0}),e})();var b=i(6434),P=i(2474),w=i(9507),L=i(1493),Z=i(4582),D=i(1098),I=i(9653),$=i(1558),E=i(4688);function J(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"article-list-item",6),t.NdJ("deleted",function(){const g=t.CHM(n).$implicit,R=t.oxw(3);return t.KtG(R.onDeleteRequest(g))}),t.qZA()}if(2&e){const n=r.$implicit,o=t.oxw(2).ngIf,l=t.oxw();t.Q6J("words$",l.words$)("article",n)("editing",o.editing)("canDelete",l.canDelete)("showFromAuthor",o.showFromAuthor&&!o.editing)}}function F(e,r){if(1&e&&(t.TgZ(0,"div",4),t.YNc(1,J,1,5,"article-list-item",5),t.qZA()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",n.articles)}}function Q(e,r){1&e&&t._UZ(0,"loading")}function N(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"No articles are here... yet."),t.qZA())}function U(e,r){if(1&e&&t.YNc(0,N,2,0,"div",0),2&e){const n=t.oxw().ngIf;t.Q6J("ngIf",!n.loading)}}function Y(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.YNc(1,F,2,1,"div",1),t.YNc(2,Q,1,0,"loading",0),t.YNc(3,U,1,1,"ng-template",null,2,t.W1O),t.TgZ(5,"delete-dialog",3),t.NdJ("deleted",function(l){t.CHM(n);const g=t.oxw();return t.KtG(g.onDeleteConfirmation(l))}),t.qZA(),t.BQk()}if(2&e){const n=r.ngIf,o=t.MAs(4);t.xp6(1),t.Q6J("ngIf",n.articles.length>0)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",n.loading)}}let H=(()=>{class e{constructor(n,o){this.store=n,this.dialogService=o,this.canDelete=!0,this.words$=this.store.select(D.y.selectEntities)}onDeleteRequest(n){this.dialogService.openDialog(w.iR.Delete,{title:"Delete Article",text:`Are you sure you want to delete "${n.title}"?`,data:n.id})}onDeleteConfirmation(n){this.store.dispatch(b.u.deleteArticle({articleId:n}))}ngOnDestroy(){this.store.dispatch(b.u.reset())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(I.yh),t.Y36($.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["article-list"]],inputs:{vm$:"vm$",canDelete:"canDelete"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["class","article-list-container",4,"ngIf","ngIfElse"],["noArticles",""],[3,"deleted"],[1,"article-list-container"],[3,"words$","article","editing","canDelete","showFromAuthor","deleted",4,"ngFor","ngForOf"],[3,"words$","article","editing","canDelete","showFromAuthor","deleted"]],template:function(n,o){1&n&&(t.YNc(0,Y,6,3,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,o.vm$))},dependencies:[a.ez,a.sg,a.O5,a.Ov,O,P.I,E.N,L.S,Z.F],styles:[".article-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:10px;row-gap:25px}"],changeDetection:0}),e})()},2333:(v,_,i)=>{i.d(_,{Z:()=>t});var a=i(4650);let t=(()=>{class c{constructor(s,p){this.el=s,this.renderer=p,this.highlight=[]}ngOnInit(){if(typeof this.classToApply>"u"&&(this.classToApply=""),typeof this.highlight>"u")return void this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.text);let s=this.text;for(let p=0;p<this.highlight.length;p++){let m=h(this.highlight[p].word);s=this.replace(s,m)}this.renderer.setProperty(this.el.nativeElement,"innerHTML",s)}replace(s,p){let m=new RegExp("("+p+")","gi");return s.replace(m,`<span class="${this.classToApply}">$1</span>`)}}return c.\u0275fac=function(s){return new(s||c)(a.Y36(a.SBq),a.Y36(a.Qsj))},c.\u0275dir=a.lG2({type:c,selectors:[["","highlight",""]],inputs:{highlight:"highlight",text:"text",classToApply:"classToApply"},standalone:!0}),c})(),d=/[|\\{}()[\]^$+*?.]/g;function h(c){if("string"!=typeof c)throw new TypeError("Expected a string");return c.replace(d,"\\$&")}},2524:(v,_,i)=>{i.d(_,{n:()=>t});var a=i(4650);let t=(()=>{class d{transform(c){const u=new Date,s=new Date(c),p=Math.abs(u.getTime()-s.getTime()),m=Math.floor(p/1e3),f=Math.floor(m/60),x=Math.floor(f/60),A=Math.floor(x/24);return A>0?`${A} days ago`:x>0?`${x} hours ago`:f>0?`${f} minutes ago`:"Just now"}}return d.\u0275fac=function(c){return new(c||d)},d.\u0275pipe=a.Yjl({name:"ago",type:d,pure:!0,standalone:!0}),d})()}}]);